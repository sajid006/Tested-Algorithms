#include <bits/stdc++.h>
using namespace std;
#define ll long long
#define pb push_back
#define filein freopen("in.txt","r",stdin)
#define fileout freopen("out.txt","w",stdout)
#define all(v) v.begin(),v.end()
#define ff first
#define ss second
#define mod 1000000007
#define mx 200005
#define IOS ios::sync_with_stdio(0); cin.tie(0); cout.tie(0);
ll ara[100005],seg[400020];
void creation(ll lo,ll hi,ll pos)
{
    if(lo==hi)
    {
        seg[pos]=ara[lo];
        return ;
    }
 
    ll mid=(lo+hi)/2;
    creation(lo,mid,2*pos);
    creation(mid+1,hi,2*pos+1);
    seg[pos]=seg[2*pos]+seg[2*pos+1];
}
ll query(ll qlo,ll qhi,ll lo,ll hi,ll pos)
{
    if(qlo>hi || qhi<lo)return 0;
    if(qlo<=lo && qhi>=hi)return seg[pos];
    ll mid=(lo+hi)/2;
    return query(qlo,qhi,lo,mid,2*pos)+query(qlo,qhi,mid+1,hi,2*pos+1);
}
void update(ll lo,ll hi,ll i,ll val,ll pos)
{
    if(lo>i || hi<i)
        return ;
    if(lo==i && i==hi)
    {
        seg[pos]=val;
        ara[i]=val;
        return ;
    }
 
 
    //there are two if condition above.If we put 2nd one over the first one then it will give wrong answer
    ll mid=(lo+hi)/2;
    update(lo,mid,i,val,2*pos);
    update(mid+1,hi,i,val,2*pos+1);
    seg[pos]=seg[2*pos]+seg[2*pos+1];
}
int main()
{
    ll t,tc,i,j,h,l,x,v,n,q,k;
    scanf("%lld",&t);
    for(tc=1; tc<=t; tc++)
    {
        scanf("%lld %lld",&n,&q);
        for(i=1; i<=n; i++)
        {
            scanf("%lld",&ara[i]);
        }
        creation(1,n,1);
       
        printf("Case %lld:\n",tc);
        for(i=1; i<=q; i++)
        {
           
            //cout<<endl;
            //first i didn't comment the endl and got tle!
            scanf("%lld",&x);
 
            if(x==1)
            {
                scanf("%lld",&k);
                printf("%lld\n",ara[k+1]);
                update(1,n,k+1,0,1);
            }
            else if(x==2)
            {
                scanf("%lld %lld",&k,&v);
                j=k+1;
                update(1,n,j,ara[j]+v,1);
            }
            else
            {
                scanf("%lld %lld",&k,&j);
                printf("%lld\n",query(k+1,j+1,1,n,1));
            }
        }
    }
    return 0;
}
